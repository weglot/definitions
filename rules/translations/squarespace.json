{
  "translations": [
    {
      "type": "HTML",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        }
      ],
      "value": [
        {
          "id": "squarespace-context",
          "selector": "script[data-name=\"static-context\"]",
          "regex": "SQUARESPACE_CONTEXT = (?<json>.+);"
        },
        {
          "selector": "iframe[data-iframe-translate]",
          "attribute": "src",
          "type": "URL",
          "forceURLFormat": "proxy"
        },
        {
          "id": "squarespace-product-variants",
          "selector": ".product-variants",
          "attribute": "data-variants",
          "type": "JSON",
          "transforms": { "name": "html" }
        },
        {
          "selector": ".product-variants option",
          "attribute": "value",
          "wordType": 1
        },
        {
          "selector": "script[src*=extract-css-runtime]",
          "attribute": "src",
          "type": "URL",
          "forceURLFormat": "proxy"
        },
        {
          "selector": "script.sqs-form-block-context",
          "type": "JSON",
          "id": "squarespace-form-context"
        }
      ]
    },
    {
      "type": "RAW",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "MATCH_REGEX",
            "value": "extract-css-runtime(.+).js$"
          }
        }
      ],
      "value": [
        {
          "regex": "\"(?<url_proxy>https://assets.squarespace.com/universal/scripts-compressed/)\""
        }
      ]
    },
    {
      "type": "RAW",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "MATCH_REGEX",
            "value": "\\d+-[0-9a-f]+-min.(.+).js$"
          }
        }
      ],
      "value": [
        {
          "id": "squarespace-form-labels",
          "regex": [{"value": "\"?[\\da-z]{32}\"?:\"(?<html>[^\"]+)\""}],
          "transforms": {"name": "templateVariables"}
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "FROM_DEFINITION_ID",
          "payload": "squarespace-product-variants"
        },
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        }
      ],
      "value": [
        {
          "paths": [
            "$.*.optionValues.*.value",
            "$.*.attributes.*"
           ],
          "wordType": 1
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "FROM_DEFINITION_ID",
          "payload": "squarespace-context"
        },
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        }
      ],
      "value": [
        {
          "paths": [
            "$.collection.title",
            "$.cookieSettings.cookieBannerText",
            "$.cookieSettings.cookieBannerCtaText",
            "$.cookieSettings.cookieBannerOptOutCtaText",
            "$.website.siteTitle",
            "$.website.fullSiteTitle",
            "$.website.siteTagLine",
            "$.website.siteDescription",
            "$.websiteSettings.storeSettings.mailingListDescription",
            "$.websiteSettings.storeSettings.merchandisingSettings.customScarcityMessage",
            "$.websiteSettings.storeSettings.merchandisingSettings.customSoldOutText",
            "$.websiteSettings.storeSettings.orderRefundedMessage",
            "$.websiteSettings.storeSettings.orderRefundedSubjectFormat",
            "$.websiteSettings.storeSettings.orderRefundedTitleFormat",
            "$.websiteSettings.storeSettings.termsOfService"
          ],
          "wordType": 1
        },
        {
          "paths": ["$.website.socialAccounts..profileUrl"],
          "wordType": 10
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "END_WITH",
            "value": "/api/search/GeneralSearch"
          }
        }
      ],
      "value": [
        {
          "paths": [
            "$.items[*].title",
            "$.items[*].body",
            "$.items[*].highlight[*]"
          ],
          "wordType": 1
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "END_WITH",
            "value": "/api/commerce/shopping-cart"
          }
        }
      ],
      "value": [
        {
          "paths": [
            "$.entries[*].title",
            "$.entries[*].chosenVariant.optionValues[*].optionName"
          ],
          "wordType": 1
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "IS_EXACTLY",
            "value": "/api/popup-overlay/render"
          }
        }
      ],
      "value": [
        {
          "paths": ["$.renderedHtml"],
          "wordType": 1
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "END_WITH",
            "value": "/api/template/GetTemplateSchema"
          }
        }
      ],
      "value": [
        {
          "excluded_paths": ["$.html"]
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "END_WITH",
            "value": "/api/comment/GetComments"
          }
        }
      ],
      "value": [
        {
          "paths": ["$.comments.*.body"],
          "type": "HTML"
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "FROM_DEFINITION_ID",
          "payload": "squarespace-form-context"
        }
      ],
      "value": [
        {
          "paths": [
            "$.formSubmitButtonText",
            "$.formSubmissionMessage.html",
            "$..label",
            "$.localizedStrings.*"
          ],
          "wordType": 1
        },
        {
          "paths": [
            "$.localizedStrings.*.*"
          ],
          "type": "HTML",
          "transforms": {"name": "templateVariables"}
        }
      ]
    },
    {
      "type": "JSON",
      "condition": [
        {
          "type": "TECHNOLOGY_ID",
          "payload": 5
        },
        {
          "type": "PATH_MATCH",
          "payload": {
            "type": "END_WITH",
            "value": "api/form/SaveFormSubmission"
          }
        }
      ],
      "value": [
        {
          "paths": [
            "$.error",
            "$.errors.*",
            "$.message"
          ],
          "wordType": 1
        }
      ]
    }
  ]
}
